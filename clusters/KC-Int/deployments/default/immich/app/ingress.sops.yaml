apiVersion: traefik.io/v1alpha1
kind: IngressRoute
metadata:
    name: immich-server
    namespace: apps
    annotations:
        kubernetes.io/ingress.class: traefik-external
spec:
    entryPoints:
        - websecure
    routes:
        - match: ENC[AES256_GCM,data:937PuJfdGZ6rP9V5/vKVtosCkMajVDkAklM=,iv:3EUaE/H8MBZ2BjbvxNwMtfZyFYbN58mv99LVcOj+Klc=,tag:+nMQpy0SB49Hdg8oN2K+aw==,type:str]
          kind: Rule
          services:
            - name: immich-server
              port: 3001
        - match: ENC[AES256_GCM,data:RudpVeoUJaPisDamzVe/g4x9C9efxA==,iv:/DpQIs+liFY0kZayszkmOcbCZiRLeARp6pXCDWQTW7c=,tag:+hjTnHOBzJwd6W0UT+Qkkw==,type:str]
          kind: Rule
          services:
            - name: immich-server
              port: 3001
    tls:
        secretName: production-tls
sops:
    kms: []
    gcp_kms: []
    azure_kv: []
    hc_vault: []
    age:
        - recipient: age1k8rczdg4c0u0a2z57zy334al5n0s3vk6mrqm6njnt3j8hr39sq4qxcrlcs
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBwWFNSOVZ1SFBMS3I0N1Vo
            Ui9laEtBZFQ4TzlmWExVOEZRNTBRMUcrbEZrCkNYSDI4OVVzaTNUVkplbC9jdDZM
            VVRDZGVsaERkNkl0dGE0OWI1T3kzZWsKLS0tIEFaZXVjVG14b0V0NEg1WU84QnJ1
            QXNZTng3TXUzTUNQakhnbVJwaUx3aHMK/mAgdcd8ohCoLHGDsdGrmdb+PIvOYrYS
            cIkjkJ0NVPv8M8AKAmSXbsdF4wWR8TqFx+OrUdrT+VUWjWRdzMzuRg==
            -----END AGE ENCRYPTED FILE-----
    lastmodified: "2024-06-22T18:05:24Z"
    mac: ENC[AES256_GCM,data:dIZ2dm1O5jdpy0NiL4Zj0Bn7ky4wvVEPnDvxHt8DcwXGonLL7AaAe5t+RhmI6ycvCZoLEWLZ0jBabzNdq3j1TK4vLbdby6SEm+E4/jjGAAyU9MFJ9ilewV/aECv/Pd7ze1bEK9tPYxmvLSaKOX5KScdrCnPf1+Prll4X0qKevkw=,iv:NEwoDfvJQQJ26nvD5x29cLX4M17+aek+Px9DMH9/j70=,tag:cZDXchHBo2093zLkFaJzTA==,type:str]
    pgp: []
    encrypted_regex: ^(data|stringData|data|match|externalName)$
    version: 3.8.1
