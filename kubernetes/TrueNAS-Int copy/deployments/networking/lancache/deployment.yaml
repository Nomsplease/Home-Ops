apiVersion: apps/v1
kind: Deployment
metadata:
  name: lancache-monolithic
  namespace: networking
spec:
  replicas: 1
  progressDeadlineSeconds: 600
  revisionHistoryLimit: 2
  strategy:
    type: Recreate
  selector:
    matchLabels:
      app: lancache-monolithic
  template:
    metadata:
      labels:
        app: lancache-monolithic
    spec:
      containers:
      - name: lancache-monolithic
        image: >-
          lancachenet/monolithic@sha256:b72d6b909b9e3fb7b521e90aab97479f7977bf6bee97e89a095e1afdbd6d3b85
        envFrom:
          - secretRef:
              name: env-lancache
        volumeMounts:
          - name: cache
            mountPath: /data/cache
          - name: logs
            mountPath: /data/logs
          - name: prefill
            mountPath: /data/prefill
      volumes:
        - name: cache
          hostPath:
            path: /data/FastPool/AppData/Lancache/Cache
        - name: logs
          hostPath:
            path: /data/FastPool/AppData/Lancache/Logs
        - name: prefill
          hostPath:
            path: /data/FastPool/AppData/Lancache/PreFill
