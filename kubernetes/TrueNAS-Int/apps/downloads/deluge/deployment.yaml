apiVersion: apps/v1
kind: Deployment
metadata:
    name: deluge
    namespace: downloads
spec:
    replicas: 1
    progressDeadlineSeconds: 600
    revisionHistoryLimit: 2
    strategy:
        type: Recreate
    selector:
        matchLabels:
            app: deluge
    template:
        metadata:
            labels:
                app: deluge
        spec:
            containers:
                ## Gluetun Container
                - name: gluetun
                  image: ghcr.io/qdm12/gluetun
                  securityContext:
                    capabilities:
                        add:
                            - NET_ADMIN
                  resources:
                    limits:
                        memory: 2Gi
                        cpu: 100m
                  ports:
                    - containerPort: 8112
                  env:
                    - name: ENC[AES256_GCM,data:QeE=,iv:nRtq3bh0zYRxsTK4LgFz/OaCJouhbX84yT2L7dIC+Q8=,tag:xzPew1uCZqKAVKOIvqzEeA==,type:str]
                      value: ENC[AES256_GCM,data:dLadlfznuDAT+5DT+wpY6A==,iv:ZkUmAfvJTFr4QxDGKKMWUsH36iXg98VfGfRWQX0DRyA=,tag:X80kiodWjGzESy24+gJVTw==,type:str]
                    - name: ENC[AES256_GCM,data:kohTVJMFRQzs+LaPBAFJgHWoQmI=,iv:2hjdiJLOBEebfeCNWwPRJV0suefB3VIwTT/fIwhbBds=,tag:W5EEI7IKfGsswo/FTsowMw==,type:str]
                      value: ENC[AES256_GCM,data:6IecUZAhA7M4wDU9tDDeMQ1Scf2NT7w=,iv:49HJfaDybdem+QspoTjCVo52ER3NUCYBcnmsxMhqnZw=,tag:690xI3G0vGLMj9VNRMhtPg==,type:str]
                    - name: ENC[AES256_GCM,data:iMviNzg1ne+YA8AQgFo=,iv:iqz/HanMmb0MAleddfH0P3TO98rB5UK3ZjfwoQoRheM=,tag:Oy7LGP7w4O4SJeaw3TyBnQ==,type:str]
                      value: ENC[AES256_GCM,data:fTogpTRNaAkckF0=,iv:Nnjwt8uF0n3yRO3Z+vd1LgAbsRnl7WQ3zo5jXJCRbTc=,tag:xISXf7St7KoFBkGT1GcX/Q==,type:str]
                    - name: ENC[AES256_GCM,data:13YGmCA3PENZvn93,iv:MLknz3QCf4U4q3XOhLOWMaEqkovWl4nljzbE82aulOo=,tag:UParBXxg+wbnKcHw9eEDlw==,type:str]
                      value: ENC[AES256_GCM,data:FyAtSOeba6I=,iv:DNR98jrhPpfrDF1cs67X1DNgIiN0rvdpMqwJPAHtnAQ=,tag:GyTNCvxIztkW3OwWoDRDcg==,type:str]
                    - name: ENC[AES256_GCM,data:O3GcFIsP826VvRtD2c7G9w==,iv:5hE+VV9UU7CKkm9t/QaTZvk4LeTiK1ZPbupqVpJpRs0=,tag:AXzBGWECIIoLhw0pWTnmlg==,type:str]
                      value: ENC[AES256_GCM,data:RIpprCnLVQTXrA==,iv:6CZyt6aORpdT8coyEaVvNtGRJpTyBr+GguthRrU/GlI=,tag:eQP26CTcRmyGmYXHbgiJnA==,type:str]
                      #ENC[AES256_GCM,data:J61LmTojB15GyDOET+Sv5Jde52kWXOMyX5BAosb8/9/kB3LyGElT13kk1k8IucHMU7Lb1Bq8YnIQb4vyBSC4IkoogDzl9hNTsSmbdl5QqPAn2r8=,iv:J1ynHQBpYjFsH3fP151bE2iaOkjDaZCGOPEvDvdjgx0=,tag:n9OtaAGVTjDAXyjx8r/ocQ==,type:comment]
                    - name: ENC[AES256_GCM,data:49rIZm6JNzC+mmpFV38=,iv:EjgN3zftIS917qhJf8rjpzbBQID3AzVwCaTdp69OpFI=,tag:6iCQx4OcoNeEeGchxZeW0w==,type:str]
                      value: ENC[AES256_GCM,data:CB4=,iv:Jxl/xn9BTVa1e73T7aNwS3eXhggm24Aa01ZngdB0iDs=,tag:73IyG+57TmoDvttGsfxooA==,type:str]
                  # - name: FIREWALL_INPUT_PORTS
                  #   value: "8080"
                  volumeMounts:
                    - name: gluetun-config
                      mountPath: /gluetun
                ## Deluge Container
                - name: deluge
                  image: lscr.io/linuxserver/deluge:2.1.1-r9-ls266
                  resources:
                    limits:
                        memory: 16Gi
                        cpu: 250m
                  env:
                    - name: ENC[AES256_GCM,data:Jjqsgw==,iv:ZrXVDxC1QZXGWmPZ+1ZQ8085BXS6fkJgxXlJT3vm0Vs=,tag:HmcMOdH3j9+tVXBlalyRiw==,type:str]
                      value: ENC[AES256_GCM,data:/Aze,iv:idMcLMIdeMDCJBjV8BV1F2+7JmuYU3K8+PcUANbiCt4=,tag:ESkqEUMtsDuwiIxhqo7Y9A==,type:str]
                    - name: ENC[AES256_GCM,data:+nPVMQ==,iv:plbA4qKx4jY+MO/fDjg1qG0JCfjvq6cWQqYXrU+1yVY=,tag:ZpfRei3lYJAaFoL5XCRf1g==,type:str]
                      value: ENC[AES256_GCM,data:HyGQ,iv:azQQvlSaF3EQBboW1mPBBeztf1S3lVbK8tu018Z85II=,tag:v3sFCGe+KkgXPzZC8s37tA==,type:str]
                    - name: ENC[AES256_GCM,data:61I=,iv:vChei6yKaXUAefu9MKSlgjhcSFZS2qM7gNfNaE1w7M8=,tag:gY2r3KlDfLvasQMx8q+6rQ==,type:str]
                      value: ENC[AES256_GCM,data:xSyW21xI0vpd1Ka4G5V7+w==,iv:9J4GWWLukOpz65m0uKxjIlYF6XQf/eDKmzyTlP0Iv3c=,tag:wmL+adEEK/mOppe+UdWdNQ==,type:str]
                    - name: ENC[AES256_GCM,data:VoWNueep6vsENZbLmPYW,iv:qlTEtekZiyTnJkyou66WaCkSwx8AqE0TEArnowc/w/s=,tag:POwy68JyeIDIEoBP9eWsPA==,type:str]
                      value: ENC[AES256_GCM,data:CvUIdQ==,iv:guBSSDG7OF+spsOKeXTXmgdmq8G0NZicb/SNL6BEkxc=,tag:7dVKGzFjS7qg3GPQSo6pcw==,type:str]
                  volumeMounts:
                    - name: config
                      mountPath: /config
                    - name: downloads
                      mountPath: /Downloads
                    - name: media
                      mountPath: /BigPoolMedia
            volumes:
                - name: gluetun-config
                  hostPath:
                    path: /mnt/FastPool/AppData/Deluge/gluetun
                - name: config
                  hostPath:
                    path: /mnt/FastPool/AppData/Deluge/test
                - name: downloads
                  hostPath:
                    path: /mnt/FastPool/Downloads/test
                - name: media
                  hostPath:
                    path: /mnt/BigPool/Media/test
sops:
    kms: []
    gcp_kms: []
    azure_kv: []
    hc_vault: []
    age:
        - recipient: age1k8rczdg4c0u0a2z57zy334al5n0s3vk6mrqm6njnt3j8hr39sq4qxcrlcs
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBBdHNFa3p2SXI2ejNZZURl
            eTI2UTdQUWEwT0w3NC9pRnlkN3hMU3N4eDI0ClozdUViczlHQ2dldEpBOWdVc3p0
            S3lUQ3dyaWFwbmljLyt1NEhGUnRleTAKLS0tIHJ1Rjg1SWNFTExlNjNFajAwUkhL
            eHlvSmNaVFpyVXJldnc5aTNsbjUydmMKonl/j5V+fdXsGbvSFos+zG1b+IMCx7+A
            sz7vn+k8sNeeUoG8e2riYWsBy6CwPiBGlDQ0QnNaSzNAxpg5bSHPOw==
            -----END AGE ENCRYPTED FILE-----
    lastmodified: "2024-05-01T21:19:01Z"
    mac: ENC[AES256_GCM,data:2/+b11d9BfkdM/D+js/GJeAmVhL2V6NPtgMR6ri4ImsZ3ihKcayM1ZluGZqv0GYHPh/yWch5Yq493/USG782pFo5NXtOdC9lJXYS1nq0YQsH5qz9KOkfew8lRrDUFtk1jLnk3sbk2I7yH0nQaJgPLclguC0AYM2xoz6USzy6V8Y=,iv:TSxs4cjeANdN3g1RnFgucO5DJj0Tj6Zfwl6DRNkb0gM=,tag:69k73vkgw1hlhSJzpShntA==,type:str]
    pgp: []
    encrypted_regex: ^(data|env|k8s.v1.cni.cncf.io/networks)$
    version: 3.8.1
