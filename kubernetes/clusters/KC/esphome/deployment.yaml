apiVersion: apps/v1
kind: Deployment
metadata:
    name: esphome
    namespace: esphome
spec:
    replicas: 1
    progressDeadlineSeconds: 600
    revisionHistoryLimit: 2
    strategy:
        type: Recreate
    selector:
        matchLabels:
            app: esphome
    template:
        metadata:
            labels:
                app: esphome
            annotations:
                k8s.v1.cni.cncf.io/networks: ENC[AES256_GCM,data:oAmBgiofMwgWukPQnumZZoxkZjLfBMPyT9GhqDc48n1QBK7gWAsszEiobfJHSVPjIgxT6QOAoHwpYQMxpyN26GzJ2mp3l48HdIumtuugMxvDrAAs9BjdPqHkse6jNDtHRlkNFTA4hwZB9IpXpGEvzbQ=,iv:D2PXMGOMk5lb0fS2BHNvY11u8QmaPfpfcStoCpdUjMY=,tag:aYgUvrio1BhUgZap7VaggQ==,type:str]
        spec:
            containers:
                - name: esphome
                  image: ghcr.io/esphome/esphome:2024.4.2
                  volumeMounts:
                    - name: pvc
                      mountPath: /config
                      subPath: config
            volumes:
                - name: pvc
                  persistentVolumeClaim:
                    claimName: esphome-pvc
sops:
    kms: []
    gcp_kms: []
    azure_kv: []
    hc_vault: []
    age:
        - recipient: age1k8rczdg4c0u0a2z57zy334al5n0s3vk6mrqm6njnt3j8hr39sq4qxcrlcs
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBmM0JQU1dlVnZ1TXY3S2xm
            RWJxdjVBWmV5L28vS2J4SXBNbFB6ZVFCbUVjCndOL2o4aFh3QllqakExRlVLdGtJ
            ZGVWUEV0S0lrZnBUR0lXdnZDTHpydGMKLS0tIFNHOWk5bGlSLzZacSt2a3FqcWgz
            QTdndGtJOENXaU9MdFBXRkVRYjFWWWsKJlO1IZSDbczhcDd6wQpGS1imWdihgLub
            gRRik1IIlsQPXNkgZSrcPIvr6l/NqA4PqZX6/byIzIwl1o7vAHA7wg==
            -----END AGE ENCRYPTED FILE-----
    lastmodified: "2024-04-30T15:45:07Z"
    mac: ENC[AES256_GCM,data:DmIwd5l37X9JKbfkcW9qXF1QreQTxBFJ9lqbRaaclIZ+OxmUTBM2ZyoXQ6NpkhIT6cZh07SBKgfRhoaHHPLPI4KJC/YfOQ6FsHfnxJo4SbZ64u8zQGTcp4uTn/dbhLGVyXGM0rSAkXj88YZHFc6VHrVkLrbs1FHJIVU1jKLtBbI=,iv:qdMnUfMyosLMnWtgoO/5uIR619hSpuWGSai4sx6SnN4=,tag:8roj+zJXStoy39dDZDJ/Vw==,type:str]
    pgp: []
    encrypted_regex: ^(data|env|k8s.v1.cni.cncf.io/networks)$
    version: 3.8.1
